logLevel: warn

server:
  httpHostV4: 0.0.0.0
  httpPort: 4000
  maxTimeout: 30s
metrics:
  enabled: true
  hostV4: 0.0.0.0
  port: 4001

database:
  evmJsonRpcCache:
    connectors:
      - id: memory-cache
        driver: memory
        memory:
          maxItems: 100000
      - id: redis-cache
        driver: redis
        redis:
          addr: redis:6379
          password: "${ERPC_REDIS_PASSWORD}"
          db: 0
          connPoolSize: 128
          initTimeout: 10s
          getTimeout: 5s
          setTimeout: 5s
    policies:
      - network: "*"
        method: "*"
        empty: allow
        finality: finalized
        connector: redis-cache
        ttl: 0
      - network: "*"
        method: "*"
        finality: realtime
        empty: allow
        connector: memory-cache
        ttl: 1s

projects:
  - id: main
    upstreams:
      - id: drpc
        endpoint: drpc://${ERPC_DRPC_KEY}
        evm:
          getLogsMaxBlockRange: 1000000
      - id: hyperdx
        endpoint: envio://rpc.hypersync.xyz
        evm:
          getLogsMaxBlockRange: 100000
