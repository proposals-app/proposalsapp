providers = ['rust']
buildImage = 'ghcr.io/railwayapp/nixpacks:latest'

[phases.build]
cmds = ['cargo build --release --package proposals-consumer']
onlyIncludeFiles = ['Cargo.toml', 'Cargo.lock', 'apps/detective', 'libs/rust']

[start]
cmd = './target/release/proposals-consumer'
runImage = 'debian:latest'
onlyIncludeFiles = ['./target/release/proposals-consumer']
